<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPI Calculator</title>

    <style>
        body {
            background-color: #1a1a1a;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h1 {
            color: white;
            margin-top: 18px;
            text-align: center;
        }

        h3 {
            color: lightgray;
            margin: 10px 20px;
        }

        h4 {
            color: lightgray;
            margin: 5px 40px;
            font-weight: normal;
        }

        p {
            color: lightgray;
            margin: 10px 20px;
            text-align: center;
            margin-bottom: 13px;
            margin-top: 100px;
        }

        table {
            width: 90%;
            max-width: 500px;
            margin: 20px auto;
            border-collapse: collapse;
            color: white;
        }

        th,
        td {
            border: 1px solid #4da3ff;
            padding: 10px;
            text-align: center;
        }

        th {
            background-color: #4da3ff;
        }

        button {
            display: block;
            background-color: #1a1a1a;
            margin: 20px auto;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            color: rgb(217, 255, 47);
            border: 1px solid rgb(47, 227, 255);
            border-radius: 20px;
        }

        button:hover {
            box-shadow: 0 0 10px #4da3ff;
            transform: scale(1.01);
            transition: 0.3s;
        }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>


    <script>
        function getGradePoint(totalMarks, maxMarks) {
            let percent = (totalMarks / maxMarks) * 100;
            if (percent >= 90) return 10;
            else if (percent >= 80) return 9;
            else if (percent >= 70) return 8;
            else if (percent >= 60) return 7;
            else if (percent >= 50) return 6;
            else if (percent >= 45) return 5;
            else return 0;
        }

        function My_function() {
            // üîπ Subjects list
            // name, total marks, fixed CIA+Practical
            let subjects = [
                { m1: "Mathematics_I", maxTotal: 130, fixed: 25, credit: 4 },
                { m2: "FOP", maxTotal: 150, fixed: 40, credit: 4 },
                { m3: "Engineering Physics", maxTotal: 150, fixed: 40, credit: 3 },
                { m4: "BME", maxTotal: 150, fixed: 40, credit: 3 },
                { m5: "BEEE", maxTotal: 150, fixed: 40, credit: 2 },
                { m6: "BCPS", maxTotal: 130, fixed: 25, credit: 1 },
                { m7: "Yoga & Fitness", maxTotal: 50, fixed: 22, credit: 1 }
            ];
            var name = document.getElementById("n1").innerHTML = prompt("Enter Your Name:");
            var total_math = document.getElementById("m1").innerHTML = (parseFloat(prompt("Mathematics I - Mid-Sem marks:")) + parseFloat(prompt("Mathematics I - University Exam marks:")) + subjects[0].fixed);
            var total_fop = document.getElementById("m2").innerHTML = (parseFloat(prompt("Fundamental Of Programming - Mid-Sem marks:")) + parseFloat(prompt("Fundamental Of Programming - University Exam marks:")) + subjects[1].fixed);
            var total_phy = document.getElementById("m3").innerHTML = (parseFloat(prompt("Engineering Physics - Mid-Sem marks:")) + parseFloat(prompt("Engineering Physics - University Exam marks:")) + subjects[2].fixed);
            var total_bme = document.getElementById("m4").innerHTML = (parseFloat(prompt("BME - Mid-Sem marks:")) + parseFloat(prompt("BME - University Exam marks:")) + subjects[3].fixed);
            var total_beee = document.getElementById("m5").innerHTML = (parseFloat(prompt("BEEE - Mid-Sem marks:")) + parseFloat(prompt("BEEE - University Exam marks:")) + subjects[4].fixed);
            var total_bcps = document.getElementById("m6").innerHTML = (parseFloat(prompt("BCPS - Mid-Sem marks:")) + parseFloat(prompt("BCPS - University Exam marks:")) + subjects[5].fixed);
            var total_yoga = document.getElementById("m7").innerHTML = (parseFloat(prompt("Yoga & Fitness - University (practical) Exam marks:")) + subjects[6].fixed);

            var gp1 = getGradePoint(total_math, 130);
            var gp2 = getGradePoint(total_fop, 150);
            var gp3 = getGradePoint(total_phy, 150);
            var gp4 = getGradePoint(total_bme, 150);
            var gp5 = getGradePoint(total_beee, 150);
            var gp6 = getGradePoint(total_bcps, 130);
            var gp7 = getGradePoint(total_yoga, 50);

            totalGP = gp1 * 4 + gp2 * 4 + gp3 * 3 + gp4 * 3 + gp5 * 2 + gp6 * 1 + gp7 * 1;
            totalCredits = 4 + 4 + 3 + 3 + 2 + 1 + 1;

            var spi = (totalGP / totalCredits).toFixed(2);
            document.getElementById("spi").innerHTML = spi;
            alert("Your SPI is: " + spi);


            var msg = document.getElementById("resultMsg");

            function startConfetti() {
                confettiInterval = setInterval(() => {
                    confetti({
                        particleCount: 100,
                        spread: 70,
                        origin: { y: 0.6 }
                    });
                }, 300);
            }

            function stopConfetti() {
                clearInterval(confettiInterval);
            }


            if (spi >= 3.5) {
                document.getElementById("resultMsg").innerText = "üéâCongratulation !You Have Passed Exam...";
                let card = document.getElementById("resultCard");
                msg.style.color = "lightgreen";
                card.style.display = "block";
                card.style.background = "#4CAF50";
                card.innerText = "Congrats " + name + " ! üéâ You scored " + spi;
                var sound = document.getElementById("resultSound");
                sound.play();
                startConfetti();
                setTimeout(stopConfetti, 8000);
            }
            else {
                document.getElementById("resultMsg").innerText = "You needs improvement! Better Luck Next Time!ü§ûüëç";
                msg.style.color = "red";
                let card = document.getElementById("resultCard");
                card.style.display = "block";
                card.style.background = "#f44336";
                card.innerText = "You scored " + spi + " Keep trying " + name + " ! You will get successüëç...";
            }

        }
        function downloadPDF() {
            const { jsPDF } = window.jspdf;
            var doc = new jsPDF();

            doc.setFontSize(18);
            doc.setTextColor(0, 0, 255);
            doc.text("SPI_Result", 14, 22);

            var name = document.getElementById("n1").innerText;
            var spi = document.getElementById("spi").innerText;

            doc.setFontSize(12);
            doc.setTextColor(0, 0, 0);

            var data = [
                ["Name", name],
                ["Mathematics I", document.getElementById("m1").innerText],
                ["Fundamental Of Programming", document.getElementById("m2").innerText],
                ["Engineering Physics", document.getElementById("m3").innerText],
                ["BME", document.getElementById("m4").innerText],
                ["BEEE", document.getElementById("m5").innerText],
                ["BCPS", document.getElementById("m6").innerText],
                ["Yoga & Fitness", document.getElementById("m7").innerText],
                ["SPI", spi]
            ];

            doc.autoTable({
                startY: 30,
                html: '#spiTable',
                head: [['Subject', 'Marks']],
                body: data,
                theme: 'grid',
                headStyles: { fillColor: [77, 163, 255], textColor: 255 },
                styles: { halign: 'center' }
            });

            doc.save('SPI_Result.pdf');
        }

    </script>

</head>

<body>

    <h1>SPI Calculator</h1>
    <h2 style="color: lightgray; text-align: center; margin-bottom: 25px; margin-top: 40px;">KADI SARVA VISHWAVIDHYALAYA
    </h2>

    <table id="spiTable">
        <tr>
            <td>Name :</td>
            <td id="n1">-</td>
        </tr>
        <tr>
            <th>Subject</th>
            <th>Marks</th>
        </tr>
        <tr>
            <td>Mathematics I</td>
            <td id="m1">-</td>
        </tr>
        <tr>
            <td>Fundamental Of Programming</td>
            <td id="m2">-</td>
        </tr>
        <tr>
            <td>Engineering Physics</td>
            <td id="m3">-</td>
        </tr>
        <tr>
            <td>BME</td>
            <td id="m4">-</td>
        </tr>
        <tr>
            <td>BEEE</td>
            <td id="m5">-</td>
        </tr>
        <tr>
            <td>BCPS</td>
            <td id="m6">-</td>
        </tr>
        <tr>
            <td>Yoga & Fitness</td>
            <td id="m7">-</td>
        </tr>
        <tr>
            <td><strong>SPI</strong></td>
            <td id="spi"><strong>-</strong></td>
        </tr>
        <tr>
            <td colspan="2" style="font-size: 12px; color: lightgray;">
                ** Note: Please input approximate marks based on your performance. This calculator provides an estimate
                and may not reflect actual results.
            </td>
        </tr>
    </table>

    <div id="resultMsg" style="text-align:center;font-size:18px;margin-top:15px;font-weight:bold;"></div>
    <button onclick="My_function()">Input Approx Marks...</button>
    <button onclick="downloadPDF()">Download PDF</button>
    <div id="resultCard"
        style="display:none; text-align: center; padding:20px; border-radius:10px; margin-top:20px; font-size:18px; font-weight:bold;">
    </div>
    <audio id="resultSound">
        <source src="success 3.mp3" type="audio/mpeg">
    </audio>




    <h3>Note : </h3>
    <h4>1. This is an approximate SPI calculator based on user input. Actual results may vary.</h4>
    <h4>2. Please ensure to input marks within valid ranges for accurate estimation.</h4>
    <h4>3. This tool is for personal use and should not be considered official.</h4>
    <h4>4. It Assume practical,Internal evaluation And Assesment Marks approximately...</h4>
    <p>Designed By Akshat</p>
    <p>¬© 2026 Akshat Shah. All rights reserved.</p>

</body>

</html>